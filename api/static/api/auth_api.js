// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('authAPI', ['ngResource']).config([
    '$httpProvider', function($httpProvider) {
      $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
      $httpProvider.defaults.xsrfCookieName = 'csrftoken';
    }
  ]).service('authState', function() {
    return {
      user: null
    };
  }).factory('authAPI', function($resource) {
    var add_auth_header;
    add_auth_header = function(data, headersGetter) {
      var headers;
      headers = headersGetter();
      headers['Authorization'] = 'Basic ' + btoa(data.username + ':' + data.password);
    };
    return {
      auth: $resource('api/auth/#', {}, {
        login: {
          method: 'POST',
          transformRequest: add_auth_header
        },
        logout: {
          method: 'DELETE'
        }
      }),
      users: $resource('api/users/#', {}, {
        create: {
          method: 'POST'
        }
      })
    };
  });

}).call(this);
